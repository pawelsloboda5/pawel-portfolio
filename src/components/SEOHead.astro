---
/**
 * SEOHead Component
 * Reusable SEO meta tags component for pages that need custom SEO
 */

import { 
  generateOpenGraphTags, 
  generateTwitterCardTags,
  generateCanonicalUrl,
  siteConfig 
} from '../utils/seo';

interface Props {
  title?: string;
  description?: string;
  image?: string;
  keywords?: string[];
  type?: 'website' | 'article' | 'profile';
  publishedTime?: string;
  modifiedTime?: string;
}

const {
  title = siteConfig.title,
  description = siteConfig.description,
  image = `${siteConfig.url}/portfolio-logo.png`,
  keywords = [],
  type = 'website',
  publishedTime,
  modifiedTime
} = Astro.props;

const canonicalUrl = generateCanonicalUrl(Astro.url.pathname);
const ogTags = generateOpenGraphTags({ title, description, image, url: canonicalUrl, type });
const twitterTags = generateTwitterCardTags({ title, description, image });
const allKeywords = [...siteConfig.keywords, ...keywords].join(', ');
---

<!-- Primary Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />
<meta name="keywords" content={allKeywords} />

<!-- Canonical URL -->
<link rel="canonical" href={canonicalUrl} />

<!-- Open Graph -->
{Object.entries(ogTags).map(([key, value]) => (
  <meta property={key} content={value} />
))}
{publishedTime && <meta property="article:published_time" content={publishedTime} />}
{modifiedTime && <meta property="article:modified_time" content={modifiedTime} />}

<!-- Twitter Card -->
{Object.entries(twitterTags).map(([key, value]) => (
  <meta name={key} content={value} />
))}
