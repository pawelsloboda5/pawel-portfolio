---
/* Import Tailwind (required) */
import "../styles/global.css";
import MobileMenu from "../components/MobileMenu";

/* Optional props so pages can pass title/description if needed */
const {
  title = "Pawel | Portfolio",
  description = "Full-stack engineer building fast, accessible, AI-powered apps.",
} = Astro.props;
---
<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- Basic Open Graph / Twitter preview (edit later) -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body class="h-full bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] antialiased">
    <!-- Skip link for a11y -->
    <a
      href="#main"
      class="fixed left-4 top-4 z-50 -translate-y-24 opacity-0 focus:translate-y-0 focus:opacity-100 transition-all duration-200 px-4 py-2 rounded-md bg-[var(--color-accent-primary)] text-black font-medium"
    >
      Skip to content
    </a>

    <!-- Header / Nav -->
    <header class="sticky top-0 z-40 border-b border-[var(--color-border)] bg-[var(--color-bg-primary)]/80 backdrop-blur-md">
      <div class="mx-auto max-w-6xl px-6 h-16 flex items-center justify-between">
        <a href="/" class="font-mono text-[var(--color-accent-primary)] text-xl font-bold hover:text-[var(--color-accent-secondary)] transition-colors relative z-50">
          <span class="inline-block">&lt;</span>PS<span class="inline-block">/&gt;</span>
        </a>
        
        <!-- Desktop Navigation -->
        <nav aria-label="Primary navigation" class="hidden md:block">
          <ul class="flex items-center gap-8 text-sm font-medium">
            <li><a href="#about" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] transition-colors"><span class="text-[var(--color-accent-primary)] font-mono text-xs mr-1">01.</span>About</a></li>
            <li><a href="#experience" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] transition-colors"><span class="text-[var(--color-accent-primary)] font-mono text-xs mr-1">02.</span>Experience</a></li>
            <li><a href="#projects" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] transition-colors"><span class="text-[var(--color-accent-primary)] font-mono text-xs mr-1">03.</span>Projects</a></li>
            <li><a href="#contact" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] transition-colors"><span class="text-[var(--color-accent-primary)] font-mono text-xs mr-1">04.</span>Contact</a></li>
            <li>
              <a 
                href="/resume.pdf" 
                class="border border-[var(--color-accent-primary)] text-[var(--color-accent-primary)] px-4 py-2 rounded-md hover:bg-[var(--color-accent-primary)]/10 transition-all duration-200"
              >
                Resume
              </a>
            </li>
          </ul>
        </nav>

        <!-- Mobile Menu -->
        <MobileMenu client:load />
      </div>
    </header>

    <!-- Left Sidebar - Social Links -->
    <aside class="hidden lg:flex fixed left-8 bottom-0 flex-col items-center gap-6 after:content-[''] after:w-px after:h-24 after:bg-[var(--color-text-muted)]" aria-label="Social media links">
      <a href="https://github.com" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] hover:-translate-y-1 transition-all duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
      </a>
      <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] hover:-translate-y-1 transition-all duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
      </a>
      <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" aria-label="Twitter" class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] hover:-translate-y-1 transition-all duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg>
      </a>
    </aside>

    <!-- Right Sidebar - Email -->
    <aside class="hidden lg:flex fixed right-8 bottom-0 flex-col items-center gap-6 after:content-[''] after:w-px after:h-24 after:bg-[var(--color-text-muted)]" aria-label="Email contact">
      <a 
        href="mailto:hello@example.com" 
        class="text-[var(--color-text-secondary)] hover:text-[var(--color-accent-primary)] hover:-translate-y-1 transition-all duration-200 [writing-mode:vertical-rl] text-sm tracking-widest font-mono"
      >
        hello@example.com
      </a>
    </aside>

    <!-- Main content slot -->
    <main id="main" class="mx-auto max-w-6xl px-6 py-8">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="mt-32 border-t border-[var(--color-border)]">
      <div class="mx-auto max-w-6xl px-6 py-8 text-sm text-[var(--color-text-muted)] flex flex-col sm:flex-row items-center justify-between gap-4">
        <p>Â© {new Date().getFullYear()} Pawel Sloboda. All rights reserved.</p>
        <p class="flex items-center gap-2">
          Built with 
          <a href="https://astro.build" target="_blank" rel="noopener noreferrer" class="text-[var(--color-accent-primary)] hover:underline">Astro</a>
          <span>&</span>
          <a href="https://react.dev" target="_blank" rel="noopener noreferrer" class="text-[var(--color-accent-primary)] hover:underline">React</a>
        </p>
      </div>
    </footer>
  </body>
</html>
